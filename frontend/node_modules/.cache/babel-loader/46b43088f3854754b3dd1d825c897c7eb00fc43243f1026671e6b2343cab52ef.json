{"ast":null,"code":"var _jsxFileName = \"/Users/poojashanmugananthan/task_app/frontend/src/pages/Tasks.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Tasks = () => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  const navigate = useNavigate();\n  const token = localStorage.getItem(\"token\");\n  useEffect(() => {\n    if (!token) {\n      navigate(\"/\");\n      return;\n    }\n    axios.get(\"http://localhost:5000/tasks\", {\n      headers: {\n        Authorization: token\n      }\n    }).then(res => setTasks(res.data)).catch(err => console.error(err));\n  }, [navigate, token]);\n  const handleCreateTask = async e => {\n    e.preventDefault();\n    await axios.post(\"http://localhost:5000/tasks\", {\n      title\n    }, {\n      headers: {\n        Authorization: token\n      }\n    });\n    window.location.reload();\n  };\n  const handleCompleteTask = async id => {\n    await axios.put(`http://localhost:5000/tasks/${id}`, {}, {\n      headers: {\n        Authorization: token\n      }\n    });\n    window.location.reload();\n  };\n  const handleDeleteTask = async id => {\n    await axios.delete(`http://localhost:5000/tasks/${id}`, {\n      headers: {\n        Authorization: token\n      }\n    });\n    window.location.reload();\n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    navigate(\"/\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Task List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleCreateTask,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"New Task\",\n        value: title,\n        onChange: e => setTitle(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add Task\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: tasks.map(task => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            textDecoration: task.isComplete ? \"line-through\" : \"none\"\n          },\n          children: task.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleCompleteTask(task.id),\n          children: \"Toggle Complete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDeleteTask(task.id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this)]\n      }, task.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n_s(Tasks, \"QcmeTAxn+Nev6QaMqFu85PpaOpw=\", false, function () {\n  return [useNavigate];\n});\n_c = Tasks;\nexport default Tasks;\nvar _c;\n$RefreshReg$(_c, \"Tasks\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsxDEV","_jsxDEV","Tasks","_s","tasks","setTasks","title","setTitle","navigate","token","localStorage","getItem","get","headers","Authorization","then","res","data","catch","err","console","error","handleCreateTask","e","preventDefault","post","window","location","reload","handleCompleteTask","id","put","handleDeleteTask","delete","handleLogout","removeItem","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","type","placeholder","value","onChange","target","required","map","task","style","textDecoration","isComplete","_c","$RefreshReg$"],"sources":["/Users/poojashanmugananthan/task_app/frontend/src/pages/Tasks.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Tasks = () => {\n    const [tasks, setTasks] = useState([]);\n    const [title, setTitle] = useState(\"\");\n    const navigate = useNavigate();\n    const token = localStorage.getItem(\"token\");\n\n    useEffect(() => {\n        if (!token) {\n            navigate(\"/\");\n            return;\n        }\n        axios.get(\"http://localhost:5000/tasks\", { headers: { Authorization: token } })\n            .then((res) => setTasks(res.data))\n            .catch((err) => console.error(err));\n    }, [navigate, token]);\n\n    const handleCreateTask = async (e: React.FormEvent) => {\n        e.preventDefault();\n        await axios.post(\"http://localhost:5000/tasks\", { title }, { headers: { Authorization: token } });\n        window.location.reload();\n    };\n\n    const handleCompleteTask = async (id: number) => {\n        await axios.put(`http://localhost:5000/tasks/${id}`, {}, { headers: { Authorization: token } });\n        window.location.reload();\n    };\n\n    const handleDeleteTask = async (id: number) => {\n        await axios.delete(`http://localhost:5000/tasks/${id}`, { headers: { Authorization: token } });\n        window.location.reload();\n    };\n\n    const handleLogout = () => {\n        localStorage.removeItem(\"token\");\n        navigate(\"/\");\n    };\n\n    return (\n        <div>\n            <h2>Task List</h2>\n            <button onClick={handleLogout}>Logout</button>\n            <form onSubmit={handleCreateTask}>\n                <input type=\"text\" placeholder=\"New Task\" value={title} onChange={(e) => setTitle(e.target.value)} required />\n                <button type=\"submit\">Add Task</button>\n            </form>\n            <ul>\n                {tasks.map((task: any) => (\n                    <li key={task.id}>\n                        <span style={{ textDecoration: task.isComplete ? \"line-through\" : \"none\" }}>\n                            {task.title}\n                        </span>\n                        <button onClick={() => handleCompleteTask(task.id)}>Toggle Complete</button>\n                        <button onClick={() => handleDeleteTask(task.id)}>Delete</button>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nexport default Tasks;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}